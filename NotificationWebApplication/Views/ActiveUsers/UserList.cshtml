@using Notification.Models;
@model Tuple<IEnumerable<UserTimeDetailsModel>, IEnumerable<UserTimeDetailsModel>>

@{
    ViewBag.Title = "UserList";
}

<h3>Active Users List:</h3>


<ul>
    @foreach (var item in Model.Item1)
    {
        <li>
            Last active at: @item.LastActiveTime<br />
            @item.Name
        </li>
    }
</ul>

<h3>Inactive Users List:</h3>


<ul>
    @foreach (var item in Model.Item2)
    {
        <li>
            Last active at: @item.LastActiveTime<br />
            @item.Name
        </li>
    }
</ul>

@*@section scripts {
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>

    <script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>

    <script src="~/signalr/hubs"></script>

    <script>

        var userListHub = $.connection.userListHub;

        function UpdateUserList(newUserList) {
            //$("#usersList").empty();
            //$.each(newUserList, function (index, object) {
            //    $("#usersList").append('<li>' + object.Name + '</li>');
            //});
        }

        $(function () {

            $.connection.hub.start().done(function () {
                userListHub.client.broadcastAll = function (newUserList) {
                    debugger;
                    UpdateUserList(newUserList);
                }
            });
        });
    </script>
}*@

